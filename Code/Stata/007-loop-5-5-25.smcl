{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata/007-loop-5-5-25.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}14 May 2025, 23:07:50
{txt}
{com}. 
. scalar trim_cutoff=0.01
{txt}
{com}. local cutoffs_list 0.01 0.03 0.05
{txt}
{com}. 
. 
. forvalues cut = 0.01(0.01)0.1 {c -(}
{txt}  2{com}.         
.         di `cut'
{txt}  3{com}.         
.         global g_cut = `cut'
{txt}  4{com}.         
.         do 007-loop-graph
{txt}  5{com}.         
.         local cutoff `cut'
{txt}  6{com}. 
.         
. //      matrix res_tbl = (nullmat(res_tbl) , all_inds)
.         matrix grph_tbl = (nullmat(grph_tbl)\ all_inds)
{txt}  7{com}.         
.         matrix drop all_inds //R_mat*
{txt}  8{com}.         
. {c )-}
.01
{txt}
{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,863 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,186    .6270926           0   .6270926   .6270926

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,186    1.097826           0   1.097826   1.097826

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,186    .7211308     .394342   .0102636   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(157 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,029    .4767668           0   .4767668   .4767668

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,029    1.254918           0   1.254918   1.254918

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,029    .6378123    .1810524    .010084   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,029    .6018106           0   .6018106   .6018106

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,029    1.075308           0   1.075308   1.075308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,029    .6748167    .1691866   .0184582     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(24 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,833    .3538066           0   .3538066   .3538066

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,833     1.19562           0    1.19562    1.19562

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,833    .4599598    .1566593   .0129992   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,833    .4286945           0   .4286945   .4286945

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,833    1.094552           0   1.094552   1.094552

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,833    .4962035    .1462403   .0287407   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,242    .3833902           0   .3833902   .3833902

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,242    1.110361           0   1.110361   1.110361

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,242    .4566562    .1536779   .0252316   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,242    .4109151           0   .4109151   .4109151

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,242    1.088682           0   1.088682   1.088682

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,242    .4755594    .1509575   .0463111    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .4893202    .1496132   .0721392   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .2825584           0   .2825584   .2825584

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.093849           0   1.093849   1.093849

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3346945    .1323192   .0542032    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .3216044           0   .3216044   .3216044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.076658           0   1.076658   1.076658

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3699288    .1339461   .0564214   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .3639812           0   .3639812   .3639812

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.125474           0   1.125474   1.125474

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .4417765    .1523765   .0226066    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .3931067           0   .3931067   .3931067

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.107845           0   1.107845   1.107845

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .4649022    .1498205   .0243674   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.02

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,865 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,184    .6387453           0   .6387453   .6387453

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,184    1.079243           0   1.079243   1.079243

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,184    .7213605    .3941988   .0226637   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(174 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,010     .537757           0    .537757    .537757

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,010    1.126105           0   1.126105   1.126105

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,010    .6397865    .1778952   .0203382   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,010     .615505           0    .615505    .615505

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,010    1.057915           0   1.057915   1.057915

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,010    .6766164    .1663618   .0590308     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(27 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,830    .3622665           0   .3622665   .3622665

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,830    1.171796           0   1.171796   1.171796

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,830    .4604307    .1560726   .0203213   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,830    .4325989           0   .4325989   .4325989

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,830    1.087322           0   1.087322   1.087322

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,830    .4966778    .1455893   .0287407   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,242    .3833902           0   .3833902   .3833902

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,242    1.110361           0   1.110361   1.110361

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,242    .4566562    .1536779   .0252316   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,242    .4109151           0   .4109151   .4109151

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,242    1.088682           0   1.088682   1.088682

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,242    .4755594    .1509575   .0463111    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .4893202    .1496132   .0721392   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .2825584           0   .2825584   .2825584

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.093849           0   1.093849   1.093849

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3346945    .1323192   .0542032    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .3216044           0   .3216044   .3216044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.076658           0   1.076658   1.076658

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3699288    .1339461   .0564214   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .3639812           0   .3639812   .3639812

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.125474           0   1.125474   1.125474

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .4417765    .1523765   .0226066    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .3931067           0   .3931067   .3931067

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.107845           0   1.107845   1.107845

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .4649022    .1498205   .0243674   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.03

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,867 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,182     .644412           0    .644412    .644412

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,182    1.070935           0   1.070935   1.070935

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,182    .7215866    .3940622    .042654   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(176 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,006    .5454123           0   .5454123   .5454123

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,006    1.112673           0   1.112673   1.112673

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,006    .6401962    .1772443   .0322768   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,006    .6166046           0   .6166046   .6166046

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,006    1.056901           0   1.056901   1.056901

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,006    .6769256    .1659643   .0590308     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(31 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,826    .3696738           0   .3696738   .3696738

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,826    1.152991           0   1.152991   1.152991

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,826    .4610481    .1553169   .0301432   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,826    .4363099           0   .4363099   .4363099

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,826    1.080916           0   1.080916   1.080916

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,826    .4972643    .1448494   .0370622   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(4 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,240    .3880502           0   .3880502   .3880502

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,240    1.099748           0   1.099748   1.099748

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,240    .4570401    .1532078   .0406095   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,240    .4129258           0   .4129258   .4129258

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,240    1.085195           0   1.085195   1.085195

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,240    .4759179    .1505447   .0526191    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .4893202    .1496132   .0721392   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .2825584           0   .2825584   .2825584

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.093849           0   1.093849   1.093849

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3346945    .1323192   .0542032    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .3216044           0   .3216044   .3216044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.076658           0   1.076658   1.076658

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3699288    .1339461   .0564214   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,408    .3718924           0   .3718924   .3718924

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,408    1.106062           0   1.106062   1.106062

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,408    .4423717    .1516631   .0427978    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,408    .4014868           0   .4014868   .4014868

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,408     1.08913           0    1.08913    1.08913

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,408     .465527    .1490058   .0549461   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.04

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,867 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,182     .644412           0    .644412    .644412

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,182    1.070935           0   1.070935   1.070935

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,182    .7215866    .3940622    .042654   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(187 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,995    .5598543           0   .5598543   .5598543

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,995    1.089587           0   1.089587   1.089587

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,995    .6413041    .1755074   .0427229   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,995     .621115           0    .621115    .621115

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,995    1.052287           0   1.052287   1.052287

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,995    .6779086    .1645091   .0902932     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(39 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,818    .3799473           0   .3799473   .3799473

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,818    1.129777           0   1.129777   1.129777

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,818    .4622563    .1538701   .0436848   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,818    .4410951           0   .4410951   .4410951

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,818    1.073125           0   1.073125   1.073125

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,818    .4981594    .1438881   .0647786   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(4 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,240    .3880502           0   .3880502   .3880502

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,240    1.099748           0   1.099748   1.099748

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,240    .4570401    .1532078   .0406095   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,240    .4129258           0   .4129258   .4129258

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,240    1.085195           0   1.085195   1.085195

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,240    .4759179    .1505447   .0526191    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .4893202    .1496132   .0721392   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .2825584           0   .2825584   .2825584

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.093849           0   1.093849   1.093849

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3346945    .1323192   .0542032    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .3216044           0   .3216044   .3216044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.076658           0   1.076658   1.076658

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3699288    .1339461   .0564214   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,408    .3718924           0   .3718924   .3718924

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,408    1.106062           0   1.106062   1.106062

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,408    .4423717    .1516631   .0427978    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,408    .4014868           0   .4014868   .4014868

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,408     1.08913           0    1.08913    1.08913

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,408     .465527    .1490058   .0549461   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.05

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,870 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,179    .6487623           0   .6487623   .6487623

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,179    1.065182           0   1.065182   1.065182

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,179    .7219158    .3938744   .0513889   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(187 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,992    .5630299           0   .5630299   .5630299

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,992    1.084849           0   1.084849   1.084849

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,992    .6416023    .1750445   .0534191   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,992    .6218038           0   .6218038   .6218038

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,992    1.051761           0   1.051761   1.051761

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,992    .6781503    .1641945   .0902932     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(46 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,811    .3868533           0   .3868533   .3868533

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,811    1.115763           0   1.115763   1.115763

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,811    .4632914     .152655   .0500665   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,811    .4433784           0   .4433784   .4433784

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,811     1.07056           0    1.07056    1.07056

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,811    .4989577    .1430596   .0647786   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(6 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,238    .3909095           0   .3909095   .3909095

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,238    1.093961           0   1.093961   1.093961

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,238    .4574107    .1527734   .0522255   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,238    .4154105           0   .4154105   .4154105

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,238    1.080751           0   1.080751   1.080751

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,238    .4762952    .1500815   .0567208    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .4893202    .1496132   .0721392   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .2825584           0   .2825584   .2825584

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.093849           0   1.093849   1.093849

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3346945    .1323192   .0542032    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .3216044           0   .3216044   .3216044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.076658           0   1.076658   1.076658

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .3699288    .1339461   .0564214   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(3 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,407    .3739361           0   .3739361   .3739361

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,407    1.101788           0   1.101788   1.101788

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,407    .4426557    .1513421   .0548507    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,407    .4031761           0   .4031761   .4031761

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,407    1.086122           0   1.086122   1.086122

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,407    .4658165    .1486621   .0549461   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.06

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,872 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,177    .6511997           0   .6511997   .6511997

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,177    1.062087           0   1.062087   1.062087

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,177    .7221328    .3937534   .0630476   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(190 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,987    .5672814           0   .5672814   .5672814

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,987    1.078861           0   1.078861   1.078861

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,987    .6420909    .1742986   .0600775   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,987    .6232444           0   .6232444   .6232444

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,987    1.050475           0   1.050475   1.050475

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,987    .6785606    .1636408   .0944782     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(56 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,801    .3955662           0   .3955662   .3955662

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,801     1.09931           0    1.09931    1.09931

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,801     .464752    .1509529   .0628373   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,801    .4470437           0   .4470437   .4470437

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,801    1.065695           0   1.065695   1.065695

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,801     .499949    .1420173   .0765171   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(7 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,237     .392046           0    .392046    .392046

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,237    1.091816           0   1.091816   1.091816

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,237    .4575919     .152567    .066856   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,237    .4165881           0   .4165881   .4165881

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,237    1.078693           0   1.078693   1.078693

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,237    .4764827    .1498525     .07522    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .4893202    .1496132   .0721392   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(1 observation deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,116    .2836291           0   .2836291   .2836291

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,116    1.091421           0   1.091421   1.091421

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,116    .3349458    .1321115    .071615    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,116    .3229646           0   .3229646   .3229646

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,116    1.073868           0   1.073868   1.073868

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,116    .3702097    .1336766    .083215   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(4 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,406    .3754897           0   .3754897   .3754897

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,406    1.098804           0   1.098804   1.098804

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,406    .4429315    .1510418   .0760874    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,406    .4050016           0   .4050016   .4050016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,406    1.082823           0   1.082823   1.082823

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,406    .4661087    .1483102   .0878945   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.07

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,875 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,174     .654038           0    .654038    .654038

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,174    1.058689           0   1.058689   1.058689

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,174    .7224518    .3935829   .0709075   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(193 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,981    .5718499           0   .5718499   .5718499

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,981    1.072679           0   1.072679   1.072679

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,981    .6426714    .1734192   .0734213   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,981    .6246783           0   .6246783   .6246783

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,981    1.049355           0   1.049355   1.049355

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,981    .6790466    .1629983   .0944782     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(61 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,796    .3991617           0   .3991617   .3991617

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,796      1.0931           0     1.0931     1.0931

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,796    .4654658    .1501399   .0737523   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,796    .4486159           0   .4486159   .4486159

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,796    1.063672           0   1.063672   1.063672

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,796     .500406    .1415894   .0765171   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(8 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,236    .3929007           0   .3929007   .3929007

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,236    1.090346           0   1.090346   1.090346

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,236    .4577666     .152377   .0787034   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,236    .4174354           0   .4174354   .4174354

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,236    1.077365           0   1.077365   1.077365

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,236    .4766622    .1496454   .0824688    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,117    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,117    .4893202    .1496132   .0721392   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(1 observation deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,116    .2836291           0   .2836291   .2836291

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,116    1.091421           0   1.091421   1.091421

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,116    .3349458    .1321115    .071615    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,116    .3229646           0   .3229646   .3229646

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,116    1.073868           0   1.073868   1.073868

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,116    .3702097    .1336766    .083215   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(4 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,406    .3754897           0   .3754897   .3754897

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,406    1.098804           0   1.098804   1.098804

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,406    .4429315    .1510418   .0760874    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,406    .4050016           0   .4050016   .4050016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,406    1.082823           0   1.082823   1.082823

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,406    .4661087    .1483102   .0878945   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.08

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,876 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,173    .6549104           0   .6549104   .6549104

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,173    1.057669           0   1.057669   1.057669

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,173    .7225573    .3935274    .086454   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(195 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,978    .5736954           0   .5736954   .5736954

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,978    1.070341           0   1.070341   1.070341

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,978    .6429551    .1729994     .08237   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,978    .6258403           0   .6258403   .6258403

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,978    1.048203           0   1.048203   1.048203

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,978    .6793075    .1626139   .0944782     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(64 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,793    .4009691           0   .4009691   .4009691

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,793    1.090205           0   1.090205   1.090205

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,793    .4658832    .1496789   .0806351   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,793    .4502985           0   .4502985   .4502985

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,793     1.06137           0    1.06137    1.06137

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,793    .5008111    .1411098   .0920184   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(9 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,235    .3936038           0   .3936038   .3936038

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,235    1.089224           0   1.089224   1.089224

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,235    .4579362    .1521999   .0829747   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,235    .4181954           0   .4181954   .4181954

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,235    1.076223           0   1.076223   1.076223

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,235    .4768386    .1494462   .0923837    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(303 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,116    .4343784           0   .4343784   .4343784

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,116    1.069062           0   1.069062   1.069062

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,116     .489694    .1491575   .0861544   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,114    .2851114           0   .2851114   .2851114

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,114    1.088572           0   1.088572   1.088572

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,114    .3354164    .1317616   .0802418    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,114    .3239922           0   .3239922   .3239922

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,114    1.072387           0   1.072387   1.072387

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,114    .3706242    .1334164    .102588   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(6 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,404    .3775945           0   .3775945   .3775945

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,404    1.095306           0   1.095306   1.095306

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,404    .4434536    .1505137   .0802205    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,404    .4066746           0   .4066746   .4066746

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,404     1.08056           0    1.08056    1.08056

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,404    .4666204    .1477925   .0878945   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.09

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,877 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,172    .6556089           0   .6556089   .6556089

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,172    1.056898           0   1.056898   1.056898

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,172    .7226604     .393476   .1035861   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(200 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,972    .5770228           0   .5770228   .5770228

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,972    1.066283           0   1.066283   1.066283

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,972    .6435155    .1721799   .0928571   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,972    .6284306           0   .6284306   .6284306

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,972      1.0456           0     1.0456     1.0456

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,972    .6798544    .1617687   .1140734     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,301 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,857    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,857     .568908    .1446767   .0913187   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(67 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,790     .402601           0    .402601    .402601

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,790    1.087712           0   1.087712   1.087712

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,790    .4662937    .1492345   .0930321   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,790    .4517015           0   .4517015   .4517015

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,790    1.059646           0   1.059646   1.059646

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,790    .5012151    .1406409   .0998195   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(11 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,233    .3948694           0   .3948694   .3948694

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,233    1.087296           0   1.087296   1.087296

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,233    .4582693    .1518603   .0993466   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,233    .4194248           0   .4194248   .4194248

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,233    1.074534           0   1.074534   1.074534

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,233    .4771777    .1490825   .1019456    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(304 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,115    .4359587           0   .4359587   .4359587

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,115    1.066797           0   1.066797   1.066797

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,115    .4900559    .1487334   .1169618   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,113    .2857669           0   .2857669   .2857669

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,113    1.087395           0   1.087395   1.087395

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,113    .3356457    .1315983   .0909653    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,113    .3240908           0   .3240908   .3240908

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,113    1.072409           0   1.072409   1.072409

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,113    .3707397    .1334206    .102588   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(9 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,401     .380439           0    .380439    .380439

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,401     1.09083           0    1.09083    1.09083

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,401    .4442229    .1497522   .1051536    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,401    .4097344           0   .4097344   .4097344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,401    1.076121           0   1.076121   1.076121

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,401    .4674254    .1469216   .1119149   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.1

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. // di "cut is `cut' before loop"
. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
. //      di "cut is `cut' before loop 2"
.         
.         foreach var of local r_inter  {c -(}
{txt} 13{com}.         
.                 local ++wc
{txt} 14{com}.                 local ++mat_i
{txt} 15{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 16{com}.                 local name : word `wc' of `inter_names'
{txt} 17{com}.                 gen si_level = `i_share'
{txt} 18{com}.                 gen i_level = `var'
{txt} 19{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 20{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
. 
.                 keep if si_level > $g_cut & l_rgo~=. & l_rk ~=. & l_l ~=. & l_rii~=.
{txt} 21{com}.                 
.                 matrix R_mat`mat_i' = J(1,7,0) //  sic_3,inter, cutoff,m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 mat R_mat`mat_i'[1,1]=`ind'
{txt} 23{com}.                 mat R_mat`mat_i'[1,2]=`wc'
{txt} 24{com}.                 mat R_mat`mat_i'[1,3]=$g_cut
{txt} 25{com}.                 
. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 26{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 27{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
.                 sum ielas
{txt} 28{com}.                 mat R_mat`mat_i'[1,4] = r(mean)
{txt} 29{com}.                 mat R_mat`mat_i'[1,7] = `N_drop'/r(N)
{txt} 30{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 31{com}.                 mat R_mat`mat_i'[1,5] = r(mean)
{txt} 32{com}. 
.                 sum si_level
{txt} 33{com}.                 mat R_mat`mat_i'[1,6] = r(mean)
{txt} 34{com}. 
. //              sum eg 
. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 35{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 36{com}.                 
.                 di "Rownames: `row'"
{txt} 37{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 38{com}.                 
.                 drop si_level-mexp_eg
{txt} 39{com}.         {c )-}
{txt} 40{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(4,877 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,172    .6556089           0   .6556089   .6556089

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      6,172    1.056898           0   1.056898   1.056898

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      6,172    .7226604     .393476   .1035861   28.62363
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
cut is  before inner-loop
{txt}(204 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,968    .5789865           0   .5789865   .5789865

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,968    1.063997           0   1.063997   1.063997

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,968     .643883    .1716513   .1019678   .9873613
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,968    .6298333           0   .6298333   .6298333

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,968    1.044288           0   1.044288   1.044288

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,968    .6801996    .1612629   .1140734     .99534
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(2,302 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,856    .5191689           0   .5191689   .5191689

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,856    1.054637           0   1.054637   1.054637

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,856    .5690753    .1444256   .1011321   2.082892
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
cut is  before inner-loop
{txt}(72 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,784    .4054115           0   .4054115   .4054115

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,784    1.083722           0   1.083722   1.083722

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,784    .4670928    .1483978   .1006192   .9413237
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,784    .4531607           0   .4531607   .4531607

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,784    1.058273           0   1.058273   1.058273

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,784    .5018446    .1400972   .1092901   .9553854
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(26 missing values generated)
cut is  before inner-loop
(1,030 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,244    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,244    .6200839    .1471251   .1396731   1.961206
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(13 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,231    .3959212           0   .3959212   .3959212

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,231    1.085828           0   1.085828   1.085828

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,231    .4585908    .1515479   .1002104   .8928857
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,231    .4203555           0   .4203555   .4203555

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,231    1.073417           0   1.073417   1.073417

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,231    .4774963    .1487684   .1019456    .908612
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(18 missing values generated)
cut is  before inner-loop
(304 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,115    .4359587           0   .4359587   .4359587

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,115    1.066797           0   1.066797   1.066797

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,115    .4900559    .1487334   .1169618   1.215897
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(8 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,107    .2888004           0   .2888004   .2888004

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,107    1.082765           0   1.082765   1.082765

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,107    .3369371     .130776   .1008371    .871761
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,107    .3260751           0   .3260751   .3260751

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,107    1.070487           0   1.070487   1.070487

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,107    .3718744     .132855    .102588   .9344341
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}(16 missing values generated)
cut is  before inner-loop
(764 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,410    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,410    .5693637    .1438848   .1195269   1.312046
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(9 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,401     .380439           0    .380439    .380439

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,401     1.09083           0    1.09083    1.09083

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,401    .4442229    .1497522   .1051536    .882306
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,401    .4097344           0   .4097344   .4097344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,401    1.076121           0   1.076121   1.076121

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,401    .4674254    .1469216   .1119149   .9150724
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = inds inter cutoff i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file

{com}. 
. //      outtable using "../../Paper/images/tables/stata-gnr-inter-ded-trim", mat(res_tbl) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form")                
. 
. // mat li res_tbl
. 
. xxx
{err}command {bf}xxx{sf} is unrecognized
{txt}{search r(199), local:r(199);}

end of do-file

{search r(199), local:r(199);}

{com}. do "/var/folders/_r/fhcn5vg539b5wkq5zz16mmpr0000gn/T//SD07441.000000"
{txt}
{com}. mat li grph_tbl
{res}
{txt}grph_tbl[150,7]
                    inds       inter      cutoff           i        bigE
  sic311-mse {res}        311           1         .01    .6270926   1.0978261
{txt}sic311-mat~s {res}        311           2         .01   .47676679   1.2549185
{txt}sic311-ded~s {res}        311           3         .01   .60181057   1.0753077
{txt}  sic321-mse {res}        321           1         .01   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .01   .35380664   1.1956196
{txt}sic321-ded~s {res}        321           3         .01   .42869449   1.0945517
{txt}  sic352-mse {res}        352           1         .01   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .01   .38339019   1.1103615
{txt}sic352-ded~s {res}        352           3         .01   .41091514   1.0886817
{txt}  sic313-mse {res}        313           1         .01   .43243435   1.0720789
{txt}sic313-mat~s {res}        313           2         .01   .28255844   1.0938493
{txt}sic313-ded~s {res}        313           3         .01    .3216044   1.0766584
{txt}  sic383-mse {res}        383           1         .01   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .01   .36398125   1.1254737
{txt}sic383-ded~s {res}        383           3         .01    .3931067   1.1078452
{txt}  sic311-mse {res}        311           1         .02   .63874531   1.0792429
{txt}sic311-mat~s {res}        311           2         .02   .53775704    1.126105
{txt}sic311-ded~s {res}        311           3         .02   .61550504   1.0579151
{txt}  sic321-mse {res}        321           1         .02   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .02   .36226654   1.1717964
{txt}sic321-ded~s {res}        321           3         .02   .43259886   1.0873224
{txt}  sic352-mse {res}        352           1         .02   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .02   .38339019   1.1103615
{txt}sic352-ded~s {res}        352           3         .02   .41091514   1.0886817
{txt}  sic313-mse {res}        313           1         .02   .43243435   1.0720789
{txt}sic313-mat~s {res}        313           2         .02   .28255844   1.0938493
{txt}sic313-ded~s {res}        313           3         .02    .3216044   1.0766584
{txt}  sic383-mse {res}        383           1         .02   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .02   .36398125   1.1254737
{txt}sic383-ded~s {res}        383           3         .02    .3931067   1.1078452
{txt}  sic311-mse {res}        311           1         .03   .64441198    1.070935
{txt}sic311-mat~s {res}        311           2         .03    .5454123   1.1126732
{txt}sic311-ded~s {res}        311           3         .03   .61660463    1.056901
{txt}  sic321-mse {res}        321           1         .03   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .03   .36967376   1.1529911
{txt}sic321-ded~s {res}        321           3         .03   .43630987    1.080916
{txt}  sic352-mse {res}        352           1         .03   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .03   .38805023   1.0997478
{txt}sic352-ded~s {res}        352           3         .03   .41292575   1.0851948
{txt}  sic313-mse {res}        313           1         .03   .43243435   1.0720789
{txt}sic313-mat~s {res}        313           2         .03   .28255844   1.0938493
{txt}sic313-ded~s {res}        313           3         .03    .3216044   1.0766584
{txt}  sic383-mse {res}        383           1         .03   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .03   .37189242   1.1060619
{txt}sic383-ded~s {res}        383           3         .03   .40148684   1.0891298
{txt}  sic311-mse {res}        311           1         .04   .64441198    1.070935
{txt}sic311-mat~s {res}        311           2         .04   .55985433   1.0895875
{txt}sic311-ded~s {res}        311           3         .04   .62111503   1.0522873
{txt}  sic321-mse {res}        321           1         .04   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .04   .37994727   1.1297767
{txt}sic321-ded~s {res}        321           3         .04   .44109505   1.0731255
{txt}  sic352-mse {res}        352           1         .04   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .04   .38805023   1.0997478
{txt}sic352-ded~s {res}        352           3         .04   .41292575   1.0851948
{txt}  sic313-mse {res}        313           1         .04   .43243435   1.0720789
{txt}sic313-mat~s {res}        313           2         .04   .28255844   1.0938493
{txt}sic313-ded~s {res}        313           3         .04    .3216044   1.0766584
{txt}  sic383-mse {res}        383           1         .04   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .04   .37189242   1.1060619
{txt}sic383-ded~s {res}        383           3         .04   .40148684   1.0891298
{txt}  sic311-mse {res}        311           1         .05   .64876229   1.0651822
{txt}sic311-mat~s {res}        311           2         .05   .56302989   1.0848485
{txt}sic311-ded~s {res}        311           3         .05   .62180376   1.0517606
{txt}  sic321-mse {res}        321           1         .05   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .05   .38685331   1.1157627
{txt}sic321-ded~s {res}        321           3         .05   .44337839   1.0705597
{txt}  sic352-mse {res}        352           1         .05   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .05   .39090952   1.0939615
{txt}sic352-ded~s {res}        352           3         .05   .41541046   1.0807513
{txt}  sic313-mse {res}        313           1         .05   .43243435   1.0720789
{txt}sic313-mat~s {res}        313           2         .05   .28255844   1.0938493
{txt}sic313-ded~s {res}        313           3         .05    .3216044   1.0766584
{txt}  sic383-mse {res}        383           1         .05   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .05   .37393606   1.1017877
{txt}sic383-ded~s {res}        383           3         .05    .4031761   1.0861218
{txt}  sic311-mse {res}        311           1         .06    .6511997   1.0620868
{txt}sic311-mat~s {res}        311           2         .06   .56728142   1.0788608
{txt}sic311-ded~s {res}        311           3         .06    .6232444   1.0504746
{txt}  sic321-mse {res}        321           1         .06   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .06    .3955662   1.0993102
{txt}sic321-ded~s {res}        321           3         .06   .44704366   1.0656954
{txt}  sic352-mse {res}        352           1         .06   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .06   .39204603   1.0918159
{txt}sic352-ded~s {res}        352           3         .06   .41658813   1.0786932
{txt}  sic313-mse {res}        313           1         .06   .43243435   1.0720789
{txt}sic313-mat~s {res}        313           2         .06   .28362912   1.0914212
{txt}sic313-ded~s {res}        313           3         .06   .32296461   1.0738684
{txt}  sic383-mse {res}        383           1         .06   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .06   .37548965   1.0988038
{txt}sic383-ded~s {res}        383           3         .06   .40500164   1.0828234
{txt}  sic311-mse {res}        311           1         .07   .65403795   1.0586888
{txt}sic311-mat~s {res}        311           2         .07   .57184988   1.0726793
{txt}sic311-ded~s {res}        311           3         .07   .62467831   1.0493554
{txt}  sic321-mse {res}        321           1         .07   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .07   .39916173   1.0931003
{txt}sic321-ded~s {res}        321           3         .07   .44861594   1.0636724
{txt}  sic352-mse {res}        352           1         .07   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .07   .39290074   1.0903459
{txt}sic352-ded~s {res}        352           3         .07   .41743538   1.0773647
{txt}  sic313-mse {res}        313           1         .07   .43243435   1.0720789
{txt}sic313-mat~s {res}        313           2         .07   .28362912   1.0914212
{txt}sic313-ded~s {res}        313           3         .07   .32296461   1.0738684
{txt}  sic383-mse {res}        383           1         .07   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .07   .37548965   1.0988038
{txt}sic383-ded~s {res}        383           3         .07   .40500164   1.0828234
{txt}  sic311-mse {res}        311           1         .08   .65491039   1.0576688
{txt}sic311-mat~s {res}        311           2         .08   .57369542   1.0703411
{txt}sic311-ded~s {res}        311           3         .08   .62584031   1.0482031
{txt}  sic321-mse {res}        321           1         .08   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .08   .40096912   1.0902047
{txt}sic321-ded~s {res}        321           3         .08   .45029852   1.0613699
{txt}  sic352-mse {res}        352           1         .08   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .08    .3936038   1.0892236
{txt}sic352-ded~s {res}        352           3         .08    .4181954   1.0762233
{txt}  sic313-mse {res}        313           1         .08   .43437836   1.0690618
{txt}sic313-mat~s {res}        313           2         .08    .2851114   1.0885718
{txt}sic313-ded~s {res}        313           3         .08   .32399222   1.0723866
{txt}  sic383-mse {res}        383           1         .08   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .08   .37759447   1.0953063
{txt}sic383-ded~s {res}        383           3         .08   .40667456   1.0805598
{txt}  sic311-mse {res}        311           1         .09   .65560889   1.0568982
{txt}sic311-mat~s {res}        311           2         .09   .57702279   1.0662832
{txt}sic311-ded~s {res}        311           3         .09    .6284306   1.0456001
{txt}  sic321-mse {res}        321           1         .09   .51831883   1.0557046
{txt}sic321-mat~s {res}        321           2         .09   .40260103   1.0877116
{txt}sic321-ded~s {res}        321           3         .09   .45170149    1.059646
{txt}  sic352-mse {res}        352           1         .09   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2         .09   .39486945   1.0872955
{txt}sic352-ded~s {res}        352           3         .09    .4194248   1.0745343
{txt}  sic313-mse {res}        313           1         .09   .43595871   1.0667969
{txt}sic313-mat~s {res}        313           2         .09   .28576693   1.0873954
{txt}sic313-ded~s {res}        313           3         .09   .32409078   1.0724088
{txt}  sic383-mse {res}        383           1         .09   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2         .09   .38043898   1.0908303
{txt}sic383-ded~s {res}        383           3         .09   .40973437   1.0761213
{txt}  sic311-mse {res}        311           1          .1   .65560889   1.0568982
{txt}sic311-mat~s {res}        311           2          .1   .57898647   1.0639966
{txt}sic311-ded~s {res}        311           3          .1   .62983328   1.0442876
{txt}  sic321-mse {res}        321           1          .1   .51916885   1.0546371
{txt}sic321-mat~s {res}        321           2          .1   .40541148   1.0837224
{txt}sic321-ded~s {res}        321           3          .1   .45316073    1.058273
{txt}  sic352-mse {res}        352           1          .1   .57493085    1.043659
{txt}sic352-mat~s {res}        352           2          .1   .39592123   1.0858282
{txt}sic352-ded~s {res}        352           3          .1   .42035547   1.0734172
{txt}  sic313-mse {res}        313           1          .1   .43595871   1.0667969
{txt}sic313-mat~s {res}        313           2          .1   .28880045   1.0827652
{txt}sic313-ded~s {res}        313           3          .1   .32607511   1.0704873
{txt}  sic383-mse {res}        383           1          .1   .52611387   1.0444691
{txt}sic383-mat~s {res}        383           2          .1   .38043898   1.0908303
{txt}sic383-ded~s {res}        383           3          .1   .40973437   1.0761213

{txt}                 si_mean  N_drop_prc
  sic311-mse {res}  .72113085   .78612997
{txt}sic311-mat~s {res}  .63781234    .0260408
{txt}sic311-ded~s {res}  .67481673           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .45995979   .00847158
{txt}sic321-ded~s {res}  .49620349           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45665615   .00089206
{txt}sic352-ded~s {res}   .4755594           0
{txt}  sic313-mse {res}  .48932017   .27036705
{txt}sic313-mat~s {res}  .33469451           0
{txt}sic313-ded~s {res}  .36992875           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44177652           0
{txt}sic383-ded~s {res}  .46490221           0
{txt}  sic311-mse {res}  .72136052   .78670763
{txt}sic311-mat~s {res}  .63978652   .02895175
{txt}sic311-ded~s {res}   .6766164           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .46043074   .00954064
{txt}sic321-ded~s {res}  .49667777           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45665615   .00089206
{txt}sic352-ded~s {res}   .4755594           0
{txt}  sic313-mse {res}  .48932017   .27036705
{txt}sic313-mat~s {res}  .33469451           0
{txt}sic313-ded~s {res}  .36992875           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44177652           0
{txt}sic383-ded~s {res}  .46490221           0
{txt}  sic311-mse {res}  .72158656   .78728567
{txt}sic311-mat~s {res}   .6401962   .02930403
{txt}sic311-ded~s {res}   .6769256           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .46104813   .01096957
{txt}sic321-ded~s {res}  .49726435           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45704013   .00178571
{txt}sic352-ded~s {res}  .47591786           0
{txt}  sic313-mse {res}  .48932017   .27036705
{txt}sic313-mat~s {res}  .33469451           0
{txt}sic313-ded~s {res}  .36992875           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44237168   .00142045
{txt}sic383-ded~s {res}  .46552698           0
{txt}  sic311-mse {res}  .72158656   .78728567
{txt}sic311-mat~s {res}  .64130415   .03119266
{txt}sic311-ded~s {res}  .67790859           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .46225632    .0138396
{txt}sic321-ded~s {res}  .49815936           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45704013   .00178571
{txt}sic352-ded~s {res}  .47591786           0
{txt}  sic313-mse {res}  .48932017   .27036705
{txt}sic313-mat~s {res}  .33469451           0
{txt}sic313-ded~s {res}  .36992875           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44237168   .00142045
{txt}sic383-ded~s {res}  .46552698           0
{txt}  sic311-mse {res}  .72191577   .78815342
{txt}sic311-mat~s {res}  .64160231   .03120828
{txt}sic311-ded~s {res}  .67815031           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .46329135   .01636428
{txt}sic321-ded~s {res}  .49895769           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45741075   .00268097
{txt}sic352-ded~s {res}  .47629518           0
{txt}  sic313-mse {res}  .48932017   .27036705
{txt}sic313-mat~s {res}  .33469451           0
{txt}sic313-ded~s {res}  .36992875           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44265567    .0021322
{txt}sic383-ded~s {res}  .46581646           0
{txt}  sic311-mse {res}  .72213279   .78873239
{txt}sic311-mat~s {res}  .64209092   .03173543
{txt}sic311-ded~s {res}  .67856057           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .46475203   .01999286
{txt}sic321-ded~s {res}  .49994895           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45759187   .00312919
{txt}sic352-ded~s {res}  .47648274           0
{txt}  sic313-mse {res}  .48932017   .27036705
{txt}sic313-mat~s {res}  .33494584   .00089606
{txt}sic313-ded~s {res}  .37020967           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44293149   .00284495
{txt}sic383-ded~s {res}  .46610869           0
{txt}  sic311-mse {res}  .72245179   .78960155
{txt}sic311-mat~s {res}  .64267137   .03226885
{txt}sic311-ded~s {res}  .67904661           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .46546585   .02181688
{txt}sic321-ded~s {res}  .50040598           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45776662   .00357782
{txt}sic352-ded~s {res}   .4766622           0
{txt}  sic313-mse {res}  .48932017   .27036705
{txt}sic313-mat~s {res}  .33494584   .00089606
{txt}sic313-ded~s {res}  .37020967           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44293149   .00284495
{txt}sic383-ded~s {res}  .46610869           0
{txt}  sic311-mse {res}  .72255733   .78989146
{txt}sic311-mat~s {res}  .64295512   .03261961
{txt}sic311-ded~s {res}  .67930751           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}  .46588323   .02291443
{txt}sic321-ded~s {res}  .50081106           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45793622   .00402685
{txt}sic352-ded~s {res}  .47683857           0
{txt}  sic313-mse {res}  .48969399   .27150538
{txt}sic313-mat~s {res}  .33541644   .00179533
{txt}sic313-ded~s {res}  .37062416           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44345358    .0042735
{txt}sic383-ded~s {res}  .46662044           0
{txt}  sic311-mse {res}   .7226604   .79018146
{txt}sic311-mat~s {res}  .64351549   .03348962
{txt}sic311-ded~s {res}  .67985443           0
{txt}  sic321-mse {res}  .56890805   .80539027
{txt}sic321-mat~s {res}   .4662937   .02401434
{txt}sic321-ded~s {res}  .50121513           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45826928   .00492611
{txt}sic352-ded~s {res}  .47717768           0
{txt}  sic313-mse {res}  .49005591   .27264574
{txt}sic313-mat~s {res}  .33564571   .00179695
{txt}sic313-ded~s {res}  .37073965           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44422287   .00642398
{txt}sic383-ded~s {res}   .4674254           0
{txt}  sic311-mse {res}   .7226604   .79018146
{txt}sic311-mat~s {res}  .64388296   .03418231
{txt}sic311-ded~s {res}  .68019963           0
{txt}  sic321-mse {res}  .56907527   .80602241
{txt}sic321-mat~s {res}  .46709279   .02586207
{txt}sic321-ded~s {res}  .50184462           0
{txt}  sic352-mse {res}  .62008395   .45900178
{txt}sic352-mat~s {res}  .45859079   .00582698
{txt}sic352-ded~s {res}  .47749626           0
{txt}  sic313-mse {res}  .49005591   .27264574
{txt}sic313-mat~s {res}  .33693714   .00722674
{txt}sic313-ded~s {res}  .37187438           0
{txt}  sic383-mse {res}  .56936368   .54184397
{txt}sic383-mat~s {res}  .44422287   .00642398
{txt}sic383-ded~s {res}   .4674254           0
{reset}
{com}. 
{txt}end of do-file

{com}. do "/var/folders/_r/fhcn5vg539b5wkq5zz16mmpr0000gn/T//SD07441.000000"
{txt}
{com}. cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
{txt}
{com}. 
. svmat grph_tbl, names(matcol)
{txt}
{com}. 
. label define intermediates 1 "mse" 2 "materials" 3 "deductibles"
{txt}
{com}. label values grph_tblinter intermediates
{txt}
{com}. label variable grph_tblcutoff "Cutoff"
{txt}
{com}. label var grph_tblbigE "big E"
{txt}
{com}. label var grph_tbli "Elasticity"
{txt}
{com}. label var grph_tblinter "Intermediate"
{txt}
{com}. label var grph_tblN_drop_prc "Dropped (%)"
{txt}
{com}. 
{txt}end of do-file

{com}. do "/var/folders/_r/fhcn5vg539b5wkq5zz16mmpr0000gn/T//SD07441.000000"
{txt}
{com}. twoway connected  grph_tblbigE grph_tblcutoff || connected grph_tbli grph_tblcutoff, yaxis(2) || if grph_tblinter == 2, xlabel(,grid) by(grph_tblinds, title("Big E vs Elasticity"))
{res}{txt}
{com}. 
{txt}end of do-file

{com}. do "/var/folders/_r/fhcn5vg539b5wkq5zz16mmpr0000gn/T//SD07441.000000"
{txt}
{com}. graph export "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Paper/images/graphs/trim-bigE-inds.png", as(png) replace
{txt}{p 0 4 2}
file {bf}
/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Paper/images/graphs/trim-bigE-inds.png{rm}
saved as
PNG
format
{p_end}

{com}. 
. /* By Industry */
. 
{txt}end of do-file

{com}. do "/var/folders/_r/fhcn5vg539b5wkq5zz16mmpr0000gn/T//SD07441.000000"
{txt}
{com}. twoway connected grph_tblbigE grph_tblcutoff  || connected grph_tblN_drop_prc grph_tblcutoff, yaxis(2) || if grph_tblinter == 2, xlabel(,grid) by(grph_tblinds, title("Dropped vs Big E"))
{res}{txt}
{com}. 
{txt}end of do-file

{com}. do "/var/folders/_r/fhcn5vg539b5wkq5zz16mmpr0000gn/T//SD07441.000000"
{txt}
{com}. graph export "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Paper/images/graphs/trim-drop-all.png", as(png) replace
{txt}{p 0 4 2}
file {bf}
/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Paper/images/graphs/trim-drop-all.png{rm}
saved as
PNG
format
{p_end}

{com}. 
{txt}end of do-file

{com}. 