{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata/005-loop-5-5-25.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res} 5 May 2025, 16:21:23
{txt}
{com}. 
. scalar trim_cutoff=0.01
{txt}
{com}. local cutoffs_list 0.01 0.03 0.05
{txt}
{com}. 
. 
. forvalues cut = 0.04(0.01)0.07 {c -(}
{txt}  2{com}.         
.         di `cut'
{txt}  3{com}.         
.         global g_cut = `cut'
{txt}  4{com}.         
.         do 005-loop-fs
{txt}  5{com}.         
.         local cutoff `cut'
{txt}  6{com}. 
.         
.         matrix res_tbl = (nullmat(res_tbl) , all_inds)
{txt}  7{com}. //      matrix grph_tbl = (nullmat(grph_tbl)\ all_inds)
.         
.         matrix drop all_inds //R_mat*
{txt}  8{com}.         
. {c )-}
.04
{txt}
{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. di "cut is `cut' before loop"
{res}cut is  before loop
{txt}
{com}. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
.         di "cut is `cut' before loop 2"
{txt} 13{com}.         
.         foreach var of local r_inter  {c -(}
{txt} 14{com}.         
.                 local ++wc
{txt} 15{com}.                 local ++mat_i
{txt} 16{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 17{com}.                 local name : word `wc' of `inter_names'
{txt} 18{com}.                 gen si_level = `i_share'
{txt} 19{com}.                 gen i_level = `var'
{txt} 20{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 21{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
.                 matrix R_mat`mat_i' = J(1,4,0) //  m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 keep if si_level > $g_cut //& si~=. & l~=. & k~=. & i~=.
{txt} 23{com}. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 24{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 25{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
. 
. 
.                 sum ielas
{txt} 26{com}.                 mat R_mat`mat_i'[1,1] = r(mean)
{txt} 27{com}.                 mat R_mat`mat_i'[1,4] = `N_drop'/r(N)
{txt} 28{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 29{com}.                 mat R_mat`mat_i'[1,2] = r(mean)
{txt} 30{com}. 
.                 sum si_level
{txt} 31{com}.                 mat R_mat`mat_i'[1,3] = r(mean)
{txt} 32{com}. 
.                 sum eg 
{txt} 33{com}. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 34{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 35{com}.                 
.                 di "Rownames: `row'"
{txt} 36{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 37{com}.                 
.                 drop si_level-mexp_eg
{txt} 38{com}.         {c )-}
{txt} 39{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(7 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,182     .644412           0    .644412    .644412

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     11,042    1.070935           0   1.070935   1.070935

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     11,037    .7183662    .3235443    .042654   28.62363

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,182    3.30e-10    .3149339  -3.725117   2.783749
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
{txt}(5 missing values generated)
(5 missing values generated)
cut is  before inner-loop
(428 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,057    .5571755           0   .5571755   .5571755

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,614     1.09125           0    1.09125    1.09125

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,609    .6366698    .1740926   .0423126   .9873613

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,057   -9.16e-11    .3555475  -.4848318    2.65547
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
{txt}(5 missing values generated)
(125 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,995     .621115           0    .621115    .621115

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,614    1.052287           0   1.052287   1.052287

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,609    .6742848    .1630832   .0530137     .99534

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      5,995   -1.26e-09     .290484  -.4206018    1.97942
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(15 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,143    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,140    .5574842    .1740047   .0419267   2.745237

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,857   -1.64e-09    .2995849  -1.336714   1.790444
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
{txt}(3 missing values generated)
(3 missing values generated)
cut is  before inner-loop
(152 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,869    .3774533           0   .3774533   .3774533

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,991    1.133005           0   1.133005   1.133005

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,988    .4565618    .1740274   .0400565   .9644852

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,869    2.11e-09    .4337691  -.7889664   2.281321
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
{txt}(3 missing values generated)
(106 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,818    .4410951           0   .4410951   .4410951

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,991    1.073125           0   1.073125   1.073125

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,988    .4948228    .1582698   .0459472   .9753224

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,818   -2.66e-09    .3432752   -.702279   1.988861
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(26 missing values generated)
cut is  before inner-loop
(1 observation deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,273    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,273    .6260897    .1573938   .0454176   2.417016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,244    5.04e-11    .2718411  -1.184332   1.457678
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(21 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,246    .3868164           0   .3868164   .3868164

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,252    1.101273           0   1.101273   1.101273

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,252    .4681657    .1553417   .0406095   .8928857

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,246    3.66e-09    .4006352  -.7400421   2.350415
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
{txt}(26 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,240    .4129258           0   .4129258   .4129258

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,252    1.085195           0   1.085195   1.085195

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,252    .4852337    .1527875   .0526191    .908612

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,240   -3.32e-09     .371191  -.7068909   2.141949
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .5109559    .1609282   .0721392   1.237448

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,117   -1.65e-09    .3478783  -.9642075   1.860433
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,129    .2836069           0   .2836069   .2836069

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.095044           0   1.095044   1.095044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .3511314    .1422032   .0542032   .8980092

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,129    5.64e-09    .4131282  -1.061797   1.745643
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .3216044           0   .3216044   .3216044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.076658           0   1.076658   1.076658

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .3858119    .1439589   .0564214   .9628298

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,117   -3.30e-10    .3726326  -.9927567   1.814335
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,174    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,174    .5882893    .1988395   .1195269      4.314

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,410   -3.13e-09    .2785904  -.8703169   1.525485
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(5 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,412    .3720652           0   .3720652   .3720652

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,169    1.105905           0   1.105905   1.105905

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,169    .4520724    .1591727   .0427978   .9370067

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,412    2.84e-09    .4108683  -.7628057   2.263246
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,408    .4014868           0   .4014868   .4014868

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,169     1.08913           0    1.08913    1.08913

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,169    .4740719    .1570777   .0549461   .9533815

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,408   -1.26e-09    .3798267  -.7384493   2.074201
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.05

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. di "cut is `cut' before loop"
{res}cut is  before loop
{txt}
{com}. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
.         di "cut is `cut' before loop 2"
{txt} 13{com}.         
.         foreach var of local r_inter  {c -(}
{txt} 14{com}.         
.                 local ++wc
{txt} 15{com}.                 local ++mat_i
{txt} 16{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 17{com}.                 local name : word `wc' of `inter_names'
{txt} 18{com}.                 gen si_level = `i_share'
{txt} 19{com}.                 gen i_level = `var'
{txt} 20{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 21{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
.                 matrix R_mat`mat_i' = J(1,4,0) //  m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 keep if si_level > $g_cut //& si~=. & l~=. & k~=. & i~=.
{txt} 23{com}. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 24{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 25{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
. 
. 
.                 sum ielas
{txt} 26{com}.                 mat R_mat`mat_i'[1,1] = r(mean)
{txt} 27{com}.                 mat R_mat`mat_i'[1,4] = `N_drop'/r(N)
{txt} 28{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 29{com}.                 mat R_mat`mat_i'[1,2] = r(mean)
{txt} 30{com}. 
.                 sum si_level
{txt} 31{com}.                 mat R_mat`mat_i'[1,3] = r(mean)
{txt} 32{com}. 
.                 sum eg 
{txt} 33{com}. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 34{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 35{com}.                 
.                 di "Rownames: `row'"
{txt} 36{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 37{com}.                 
.                 drop si_level-mexp_eg
{txt} 38{com}.         {c )-}
{txt} 39{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(10 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,179    .6487623           0   .6487623   .6487623

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     11,039    1.065182           0   1.065182   1.065182

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     11,034    .7185497    .3233969   .0513889   28.62363

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,179   -1.74e-09    .3090639  -3.723776    2.59879
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
{txt}(5 missing values generated)
(5 missing values generated)
cut is  before inner-loop
(435 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,054     .560287           0    .560287    .560287

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,604    1.086583           0   1.086583   1.086583

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,599    .6372264    .1732284   .0534191   .9873613

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,054   -6.10e-09    .3509336  -.4835494   2.433319
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
{txt}(5 missing values generated)
(125 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,992    .6218038           0   .6218038   .6218038

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,604    1.051761           0   1.051761   1.051761

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,599    .6747813    .1623502   .0657807     .99534

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      5,992   -7.19e-10     .289277  -.4199944   1.980028
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(22 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,136    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,133    .5581826    .1730914   .0509858   2.745237

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,857   -1.64e-09    .2995849  -1.336714   1.790444
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
{txt}(3 missing values generated)
(3 missing values generated)
cut is  before inner-loop
(168 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,862    .3841383           0   .3841383   .3841383

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,968    1.119343           0   1.119343   1.119343

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,965    .4584657    .1721615   .0500665   .9644852

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,862    3.39e-10    .4201789  -.7835429   2.150392
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
{txt}(3 missing values generated)
(104 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,811    .4433784           0   .4433784   .4433784

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,968     1.07056           0    1.07056    1.07056

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,965    .4965428    .1564482   .0647786   .9753224

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,811   -2.37e-09    .3384196  -.6995096   1.991631
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(26 missing values generated)
cut is  before inner-loop
(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,272    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,272    .6262672      .15709   .0791465   2.417016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,244    5.04e-11    .2718411  -1.184332   1.457678
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(23 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .3896486           0   .3896486   .3896486

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,249    1.095521           0   1.095521   1.095521

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,249    .4685579    .1548758     .05106   .8928857

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,244    2.44e-09    .3948264  -.7379833   2.100904
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
{txt}(26 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,238    .4154105           0   .4154105   .4154105

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,249    1.080751           0   1.080751   1.080751

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,249    .4856265    .1523095   .0567208    .908612

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,238   -3.47e-09    .3658915  -.7049947   2.068782
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .5109559    .1609282   .0721392   1.237448

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,117   -1.65e-09    .3478783  -.9642075   1.860433
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,129    .2836069           0   .2836069   .2836069

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.095044           0   1.095044   1.095044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .3511314    .1422032   .0542032   .8980092

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,129    5.64e-09    .4131282  -1.061797   1.745643
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .3216044           0   .3216044   .3216044

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.076658           0   1.076658   1.076658

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .3858119    .1439589   .0564214   .9628298

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,117   -3.30e-10    .3726326  -.9927567   1.814335
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,174    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,174    .5882893    .1988395   .1195269      4.314

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,410   -3.13e-09    .2785904  -.8703169   1.525485
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(9 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,411     .374105           0    .374105    .374105

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,165    1.101641           0   1.101641   1.101641

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,165     .452826    .1583498   .0548507   .9370067

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,411   -1.27e-09    .4065674  -.7612017   2.016722
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,407    .4031761           0   .4031761   .4031761

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,165    1.086122           0   1.086122   1.086122

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,165    .4748125     .156271   .0549461   .9533815

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,407   -7.77e-10    .3761352  -.7370164   2.075634
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.06

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. di "cut is `cut' before loop"
{res}cut is  before loop
{txt}
{com}. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
.         di "cut is `cut' before loop 2"
{txt} 13{com}.         
.         foreach var of local r_inter  {c -(}
{txt} 14{com}.         
.                 local ++wc
{txt} 15{com}.                 local ++mat_i
{txt} 16{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 17{com}.                 local name : word `wc' of `inter_names'
{txt} 18{com}.                 gen si_level = `i_share'
{txt} 19{com}.                 gen i_level = `var'
{txt} 20{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 21{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
.                 matrix R_mat`mat_i' = J(1,4,0) //  m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 keep if si_level > $g_cut //& si~=. & l~=. & k~=. & i~=.
{txt} 23{com}. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 24{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 25{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
. 
. 
.                 sum ielas
{txt} 26{com}.                 mat R_mat`mat_i'[1,1] = r(mean)
{txt} 27{com}.                 mat R_mat`mat_i'[1,4] = `N_drop'/r(N)
{txt} 28{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 29{com}.                 mat R_mat`mat_i'[1,2] = r(mean)
{txt} 30{com}. 
.                 sum si_level
{txt} 31{com}.                 mat R_mat`mat_i'[1,3] = r(mean)
{txt} 32{com}. 
.                 sum eg 
{txt} 33{com}. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 34{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 35{com}.                 
.                 di "Rownames: `row'"
{txt} 36{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 37{com}.                 
.                 drop si_level-mexp_eg
{txt} 38{com}.         {c )-}
{txt} 39{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(12 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,177    .6511997           0   .6511997   .6511997

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     11,037    1.062087           0   1.062087   1.062087

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     11,032    .7186706    .3233015   .0630476   28.62363

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,177    1.25e-09    .3055687  -3.722936   2.395162
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
{txt}(5 missing values generated)
(5 missing values generated)
cut is  before inner-loop
(441 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,049    .5644513           0   .5644513   .5644513

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,596    1.080688           0   1.080688   1.080688

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,591    .6376646    .1725581   .0600775   .9873613

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,049    1.16e-11    .3443527  -.4815843   2.317816
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
{txt}(5 missing values generated)
(125 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,987    .6232444           0   .6232444   .6232444

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,596    1.050475           0   1.050475   1.050475

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,591    .6751522    .1618432   .0657807     .99534

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      5,987    2.73e-10    .2867411  -.4189035   1.935812
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(26 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,132    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,129    .5585762    .1725838    .060545   2.745237

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,857   -1.64e-09    .2995849  -1.336714   1.790444
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
{txt}(3 missing values generated)
(3 missing values generated)
cut is  before inner-loop
(182 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,852    .3925611           0   .3925611   .3925611

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,950    1.103319           0   1.103319   1.103319

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,947    .4599336    .1707421   .0606619   .9644852

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,852    1.66e-09    .4025173  -.7762718   1.930466
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
{txt}(3 missing values generated)
(104 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,801    .4470437           0   .4470437   .4470437

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,950    1.065695           0   1.065695   1.065695

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,947    .4977344    .1552571   .0723695   .9753224

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,801   -2.90e-09    .3305204   -.695831    1.82877
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(26 missing values generated)
cut is  before inner-loop
(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,272    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,272    .6262672      .15709   .0791465   2.417016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,244    5.04e-11    .2718411  -1.184332   1.457678
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(25 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,243    .3907743           0   .3907743   .3907743

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,247    1.093389           0   1.093389   1.093389

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,247    .4688147    .1545773   .0626736   .8928857

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,243    4.78e-09    .3924128  -.7370466   1.854872
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
{txt}(26 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,237    .4165881           0   .4165881   .4165881

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,247    1.078693           0   1.078693   1.078693

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,247    .4858907    .1519838   .0626736    .908612

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,237    1.61e-09    .3633477  -.7040699   1.787432
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .5109559    .1609282   .0721392   1.237448

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,117   -1.65e-09    .3478783  -.9642075   1.860433
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(1 observation deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,128     .284675           0    .284675    .284675

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,418    1.092624           0   1.092624   1.092624

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,418    .3513408    .1420344    .071615   .8980092

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,128   -2.69e-09    .4100244   -1.06025   1.468626
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,116    .3229646           0   .3229646   .3229646

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,418    1.073868           0   1.073868   1.073868

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,418    .3860442    .1437434    .083215   .9628298

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,116   -3.97e-09    .3688152  -.9911309   1.427383
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,174    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,174    .5882893    .1988395   .1195269      4.314

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,410   -3.13e-09    .2785904  -.8703169   1.525485
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(12 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .3756557           0   .3756557   .3756557

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,162    1.098664           0   1.098664   1.098664

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,162    .4533763    .1577684   .0607398   .9370067

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,410    5.77e-10    .4031449  -.7597714   1.690885
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,406    .4050016           0   .4050016   .4050016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,162    1.082823           0   1.082823   1.082823

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,162      .47537    .1556592   .0692039   .9533815

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,406   -5.33e-10    .3721691  -.7355401   1.607326
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file
.07

{com}. /* Estimating CD using GNR(2020). Intermediates are raw materials */
. 
. 
. // Renaming variables to use GNR_code_CD.do file
. 
. /************************************************************/
. /**  Rename variables using the instructions below.        **/ 
. /**  Pay attention to upper and lower case, as it          **/
. /**  matters for Stata.  Inputs, output, and the share of  **/
. /**  intermediate expenditures in total revenue should     **/
. /**  all be expressed in levels.  The code will create     **/
. /**  the log values.  Also note that input and output      **/
. /**  variables are real values, whereas the share is       **/
. /**  the nominal share.                                    **/
. /**                                                        **/
. /**  Firm ID: id                                           **/
. /**  Time series variable (e.g., year, month): time        **/
. /**  Real gross output: yg_level                           **/
. /**  Real labor: l_level                                   **/
. /**  Real capital: k_level                                 **/
. /**  Real intermediate inputs): i_level                    **/
. /**  Nominal Share of intermediates: si_level              **/ 
. /**                                                        **/             
. /**  Be sure to set the memory larger than what your       **/  
. /**  dataset requires, since this code generates new       **/  
. /**  variables.  Having too little memory will lead to     **/  
. /**  error messages.                                       **/ 
. /************************************************************/
. 
. 
. // ren rii i_level // intermediates = mats + serv + energy
. // ren si si_level // log share of intermediates = log(intermediates/go)
. 
. /* Loop through intermediates, mats + serv, and mats */
. // ren rmats i_level
. // ren mats_share si_level
. // ren mats_share_sales si_level
. // drop si
. // ren si_sales si_level
. 
. 
. 
. /* Setting up local variables */
. 
. 
. local inds 311 321 352 313 383 // 321 351 352
{txt}
{com}. 
. // local r_inter rii rms rmats rded_i rnded_i
. // local inter_shares log_share ms_share mats_share ded_i_share nded_i_share
. // local inter_names m_s_e m_s m ded non_ded
. 
. local r_inter rii rmats rded_i 
{txt}
{com}. local inter_shares log_share mats_share ded_i_share
{txt}
{com}. local inter_names mse materials dedudctibles
{txt}
{com}. 
. local mat_i 0
{txt}
{com}. 
. di "cut is `cut' before loop"
{res}cut is  before loop
{txt}
{com}. 
. foreach ind of local inds {c -(}
{txt}  2{com}.         
. //      mat li all_inds
.         
.         cd "/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA"
{txt}  3{com}.         use gnr-colombia-stata-data if sic_3 == `ind', clear
{txt}  4{com}.         
.         ren plant id
{txt}  5{com}.         ren year time
{txt}  6{com}.         ren rgo yg_level
{txt}  7{com}.         ren l l_level
{txt}  8{com}.         ren rk k_level
{txt}  9{com}.         ren si log_share
{txt} 10{com}.         
. //      keep if sic_3 == `ind'
.         
.         
.         local wc 0
{txt} 11{com}.         
. //      cd "/Volumes/SSD Hans 1/Github/gnr/Code/GNR-ado"
. 
.         cd "/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata"
{txt} 12{com}.         
. //      mat li all_inds
.         
.         di "cut is `cut' before loop 2"
{txt} 13{com}.         
.         foreach var of local r_inter  {c -(}
{txt} 14{com}.         
.                 local ++wc
{txt} 15{com}.                 local ++mat_i
{txt} 16{com}.                 local i_share : word `wc' of `inter_shares'
{txt} 17{com}.                 local name : word `wc' of `inter_names'
{txt} 18{com}.                 gen si_level = `i_share'
{txt} 19{com}.                 gen i_level = `var'
{txt} 20{com}.                 
.                 di "cut is `cut' before inner-loop"
{txt} 21{com}. //              matrix R_mat`mat_i' = J(1,7,0) //  m,k,l,bigE,mean si_level, mean error, sd error
.                 
.                 matrix R_mat`mat_i' = J(1,4,0) //  m,bigE,mean si_level, N_drop
{txt} 22{com}.                 
.                 keep if si_level > $g_cut //& si~=. & l~=. & k~=. & i~=.
{txt} 23{com}. //              mat R_mat`mat_i'[1,4] = r(N_drop)
.                 local N_drop = r(N_drop)
{txt} 24{com}.                 
.                 quietly do GNR_code_CD_fs
{txt} 25{com}. 
. //              sum *elas mexp_eg
. //              get m,k,l, bigE, mean error, sd error
. 
. 
. 
.                 sum ielas
{txt} 26{com}.                 mat R_mat`mat_i'[1,1] = r(mean)
{txt} 27{com}.                 mat R_mat`mat_i'[1,4] = `N_drop'/r(N)
{txt} 28{com}. 
. //              mat R_mat`mat_i'[1,2] = beta
. 
.                 sum mexp_eg
{txt} 29{com}.                 mat R_mat`mat_i'[1,2] = r(mean)
{txt} 30{com}. 
.                 sum si_level
{txt} 31{com}.                 mat R_mat`mat_i'[1,3] = r(mean)
{txt} 32{com}. 
.                 sum eg 
{txt} 33{com}. //              matrix R_mat`mat_i'[1,6] = r(mean)
. //              mat R_mat`mat_i'[1,4] = r(sd)
.                 
. //              mat li R_mat`mat_i'
.                 
.                 matrix all_inds = (nullmat(all_inds)\ R_mat`mat_i')
{txt} 34{com}.                 
. //              mat li all_inds
.                 
.                 local row "`row' sic`ind'-`name'"
{txt} 35{com}.                 
.                 di "Rownames: `row'"
{txt} 36{com}.                 di "Intermediate: `wc' ; row: `mat_i'"
{txt} 37{com}.                 
.                 drop si_level-mexp_eg
{txt} 38{com}.         {c )-}
{txt} 39{com}.         
. {c )-}
{res}/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(5 missing values generated)
(132 missing values generated)
cut is  before inner-loop
(17 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,174     .654038           0    .654038    .654038

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     11,032    1.058689           0   1.058689   1.058689

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     11,027    .7189664    .3230761   .0709075   28.62363

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,174   -9.51e-10    .3011971  -3.721791    2.27882
Rownames:  sic311-mse
Intermediate: 1 ; row: 1
{txt}(5 missing values generated)
(5 missing values generated)
cut is  before inner-loop
(449 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      6,043    .5689245           0   .5689245   .5689245

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,583    1.074604           0   1.074604   1.074604

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,578     .638369    .1714894    .070692   .9873613

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      6,043   -4.98e-09    .3370416  -.4793361   2.119485
Rownames:  sic311-mse sic311-materials
Intermediate: 2 ; row: 2
{txt}(5 missing values generated)
(125 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      5,981    .6246783           0   .6246783   .6246783

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}     10,583    1.049355           0   1.049355   1.049355

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}     10,578    .6757499    .1610212   .0944782     .99534

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      5,981    4.26e-10    .2841909  -.4176715   1.937044
Rownames:  sic311-mse sic311-materials sic311-dedudctibles
Intermediate: 3 ; row: 3
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(3 missing values generated)
(130 missing values generated)
cut is  before inner-loop
(35 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,857    .5183188           0   .5183188   .5183188

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      5,123    1.055705           0   1.055705   1.055705

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      5,120    .5594442    .1714879   .0701831   2.745237

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,857   -1.64e-09    .2995849  -1.336714   1.790444
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse
Intermediate: 1 ; row: 4
{txt}(3 missing values generated)
(3 missing values generated)
cut is  before inner-loop
(186 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,847    .3960327           0   .3960327   .3960327

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,937     1.09728           0    1.09728    1.09728

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,934    .4609767    .1697516   .0702136   .9644852

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,847    1.75e-09    .3950047  -.7729557   1.773619
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials
Intermediate: 2 ; row: 5
{txt}(3 missing values generated)
(104 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,796    .4486159           0   .4486159   .4486159

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      4,937    1.063672           0   1.063672   1.063672

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      4,934    .4985719    .1544673   .0765171   .9753224

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,796    3.42e-09    .3272068  -.6942202   1.830381
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles
Intermediate: 3 ; row: 6
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(26 missing values generated)
cut is  before inner-loop
(2 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,244    .5749308           0   .5749308   .5749308

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,272    1.043659           0   1.043659   1.043659

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,272    .6262672      .15709   .0791465   2.417016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,244    5.04e-11    .2718411  -1.184332   1.457678
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse
Intermediate: 1 ; row: 7
cut is  before inner-loop
{txt}(28 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,242    .3916206           0   .3916206   .3916206

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,244    1.091929           0   1.091929   1.091929

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,244    .4691886    .1541587   .0787034   .8928857

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,242    2.08e-09    .3905389  -.7362193   1.692553
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials
Intermediate: 2 ; row: 8
{txt}(25 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      2,236    .4174354           0   .4174354   .4174354

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      3,244    1.077365           0   1.077365   1.077365

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      3,244    .4862707    .1515388   .0824688    .908612

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      2,236    3.83e-09    .3614561  -.7032704   1.696227
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles
Intermediate: 3 ; row: 9
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,117    .4324344           0   .4324344   .4324344

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,419    1.072079           0   1.072079   1.072079

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,419    .5109559    .1609282   .0721392   1.237448

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,117   -1.65e-09    .3478783  -.9642075   1.860433
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse
Intermediate: 1 ; row: 10
cut is  before inner-loop
{txt}(1 observation deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,128     .284675           0    .284675    .284675

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,418    1.092624           0   1.092624   1.092624

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,418    .3513408    .1420344    .071615   .8980092

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,128   -2.69e-09    .4100244   -1.06025   1.468626
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials
Intermediate: 2 ; row: 11
{txt}(18 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,116    .3229646           0   .3229646   .3229646

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      1,418    1.073868           0   1.073868   1.073868

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      1,418    .3860442    .1437434    .083215   .9628298

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,116   -3.97e-09    .3688152  -.9911309   1.427383
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles
Intermediate: 3 ; row: 12
/Volumes/SSD Hans 1/Dropbox/Dropbox hmarti33/COLOMBIA
{txt}(Columbia Industrial Survey 1977)
{res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata
cut is  before loop 2
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .5261139           0   .5261139   .5261139

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,174    1.044469           0   1.044469   1.044469

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,174    .5882893    .1988395   .1195269      4.314

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,410   -3.13e-09    .2785904  -.8703169   1.525485
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse
Intermediate: 1 ; row: 13
cut is  before inner-loop
{txt}(13 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,410    .3756557           0   .3756557   .3756557

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,161    1.098664           0   1.098664   1.098664

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,161     .453558    .1575785   .0700091   .9370067

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,410    5.77e-10    .4031449  -.7597714   1.690885
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials
Intermediate: 2 ; row: 14
{txt}(16 missing values generated)
cut is  before inner-loop
(0 observations deleted)

    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}ielas {c |}{res}      1,406    .4050016           0   .4050016   .4050016

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 5}mexp_eg {c |}{res}      2,161    1.082823           0   1.082823   1.082823

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 4}si_level {c |}{res}      2,161     .475558    .1554496   .0728107   .9533815

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 10}eg {c |}{res}      1,406   -5.33e-10    .3721691  -.7355401   1.607326
Rownames:  sic311-mse sic311-materials sic311-dedudctibles sic321-mse sic321-materials sic321-dedudctibles sic352-mse sic352-materials sic352-dedudctibles sic313-mse sic313-materials sic313-dedudctibles sic383-mse sic383-materials sic383-dedudctibles
Intermediate: 3 ; row: 15
{txt}
{com}. 
. matrix colnames all_inds = i bigE si_mean N_drop_prc
{txt}
{com}. matrix rownames all_inds = `row'
{txt}
{com}. //
. // outtable using "../Products/stata-gnr-inter", mat(all_inds) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form") 
. 
{txt}end of do-file

{com}. 
. mat A=res_tbl[1...,1..12]
{txt}
{com}. 
. mat li A
{res}
{txt}A[15,12]
                       i        bigE     si_mean  N_drop_prc           i
  sic311-mse {res}  .64441198    1.070935    .7183662   .00113232   .64876229
{txt}sic311-mat~s {res}  .55717552   1.0912501   .63666976   .07066204     .560287
{txt}sic311-ded~s {res}  .62111503   1.0522873   .67428484           0   .62180376
{txt}  sic321-mse {res}  .51831883   1.0557046   .55748417   .00525026   .51831883
{txt}sic321-mat~s {res}  .37745333   1.1330054   .45656179   .05298013   .38413826
{txt}sic321-ded~s {res}  .44109505   1.0731255   .49482281           0   .44337839
{txt}  sic352-mse {res}  .57493085    1.043659   .62608971   .00044563   .57493085
{txt}sic352-mat~s {res}  .38681638   1.1012726   .46816569   .00934996   .38964865
{txt}sic352-ded~s {res}  .41292575   1.0851948    .4852337           0   .41541046
{txt}  sic313-mse {res}  .43243435   1.0720789   .51095586           0   .43243435
{txt}sic313-mat~s {res}  .28360686   1.0950435   .35113144           0   .28360686
{txt}sic313-ded~s {res}   .3216044   1.0766584    .3858119           0    .3216044
{txt}  sic383-mse {res}  .52611387   1.0444691   .58828932           0   .52611387
{txt}sic383-mat~s {res}  .37206519   1.1059052   .45207241   .00354108   .37410501
{txt}sic383-ded~s {res}  .40148684   1.0891298   .47407186           0    .4031761

{txt}                    bigE     si_mean  N_drop_prc           i        bigE
  sic311-mse {res}  1.0651822   .71854968   .00161838    .6511997   1.0620868
{txt}sic311-mat~s {res}  1.0865825    .6372264   .07185332   .56445128   1.0806876
{txt}sic311-ded~s {res}  1.0517606   .67478126           0    .6232444   1.0504746
{txt}  sic321-mse {res}  1.0557046   .55818264   .00770039   .51831883   1.0557046
{txt}sic321-mat~s {res}  1.1193427   .45846566   .05870021   .39256108   1.1033193
{txt}sic321-ded~s {res}  1.0705597    .4965428           0   .44704366   1.0656954
{txt}  sic352-mse {res}   1.043659   .62626717   .00089127   .57493085    1.043659
{txt}sic352-mat~s {res}  1.0955209   .46855792   .01024955   .39077425   1.0933889
{txt}sic352-ded~s {res}  1.0807513   .48562652           0   .41658813   1.0786932
{txt}  sic313-mse {res}  1.0720789   .51095586           0   .43243435   1.0720789
{txt}sic313-mat~s {res}  1.0950435   .35113144           0     .284675   1.0926244
{txt}sic313-ded~s {res}  1.0766584    .3858119           0   .32296461   1.0738684
{txt}  sic383-mse {res}  1.0444691   .58828932           0   .52611387   1.0444691
{txt}sic383-mat~s {res}  1.1016408   .45282603   .00637845   .37565568   1.0986636
{txt}sic383-ded~s {res}  1.0861218   .47481245           0   .40500164   1.0828234

{txt}                 si_mean  N_drop_prc
  sic311-mse {res}  .71867058   .00194269
{txt}sic311-mat~s {res}  .63766462   .07290461
{txt}sic311-ded~s {res}  .67515223           0
{txt}  sic321-mse {res}  .55857622   .00910046
{txt}sic321-mat~s {res}  .45993365   .06381487
{txt}sic321-ded~s {res}  .49773443           0
{txt}  sic352-mse {res}  .62626717   .00089127
{txt}sic352-mat~s {res}  .46881472   .01114579
{txt}sic352-ded~s {res}   .4858907           0
{txt}  sic313-mse {res}  .51095586           0
{txt}sic313-mat~s {res}  .35134083   .00088652
{txt}sic313-ded~s {res}   .3860442           0
{txt}  sic383-mse {res}  .58828932           0
{txt}sic383-mat~s {res}  .45337627   .00851064
{txt}sic383-ded~s {res}  .47537002           0
{reset}
{com}. 
.         outtable using "../../Paper/images/tables/stata-gnr-inter-ded-trim", mat(res_tbl) replace format(%9.4f) center nobox caption("Production function estimates using GNR(2020) for a Cobb-Douglas functional form")                
{txt}
{com}. //
. mat li res_tbl
{res}
{txt}res_tbl[15,16]
                       i        bigE     si_mean  N_drop_prc           i
  sic311-mse {res}  .64441198    1.070935    .7183662   .00113232   .64876229
{txt}sic311-mat~s {res}  .55717552   1.0912501   .63666976   .07066204     .560287
{txt}sic311-ded~s {res}  .62111503   1.0522873   .67428484           0   .62180376
{txt}  sic321-mse {res}  .51831883   1.0557046   .55748417   .00525026   .51831883
{txt}sic321-mat~s {res}  .37745333   1.1330054   .45656179   .05298013   .38413826
{txt}sic321-ded~s {res}  .44109505   1.0731255   .49482281           0   .44337839
{txt}  sic352-mse {res}  .57493085    1.043659   .62608971   .00044563   .57493085
{txt}sic352-mat~s {res}  .38681638   1.1012726   .46816569   .00934996   .38964865
{txt}sic352-ded~s {res}  .41292575   1.0851948    .4852337           0   .41541046
{txt}  sic313-mse {res}  .43243435   1.0720789   .51095586           0   .43243435
{txt}sic313-mat~s {res}  .28360686   1.0950435   .35113144           0   .28360686
{txt}sic313-ded~s {res}   .3216044   1.0766584    .3858119           0    .3216044
{txt}  sic383-mse {res}  .52611387   1.0444691   .58828932           0   .52611387
{txt}sic383-mat~s {res}  .37206519   1.1059052   .45207241   .00354108   .37410501
{txt}sic383-ded~s {res}  .40148684   1.0891298   .47407186           0    .4031761

{txt}                    bigE     si_mean  N_drop_prc           i        bigE
  sic311-mse {res}  1.0651822   .71854968   .00161838    .6511997   1.0620868
{txt}sic311-mat~s {res}  1.0865825    .6372264   .07185332   .56445128   1.0806876
{txt}sic311-ded~s {res}  1.0517606   .67478126           0    .6232444   1.0504746
{txt}  sic321-mse {res}  1.0557046   .55818264   .00770039   .51831883   1.0557046
{txt}sic321-mat~s {res}  1.1193427   .45846566   .05870021   .39256108   1.1033193
{txt}sic321-ded~s {res}  1.0705597    .4965428           0   .44704366   1.0656954
{txt}  sic352-mse {res}   1.043659   .62626717   .00089127   .57493085    1.043659
{txt}sic352-mat~s {res}  1.0955209   .46855792   .01024955   .39077425   1.0933889
{txt}sic352-ded~s {res}  1.0807513   .48562652           0   .41658813   1.0786932
{txt}  sic313-mse {res}  1.0720789   .51095586           0   .43243435   1.0720789
{txt}sic313-mat~s {res}  1.0950435   .35113144           0     .284675   1.0926244
{txt}sic313-ded~s {res}  1.0766584    .3858119           0   .32296461   1.0738684
{txt}  sic383-mse {res}  1.0444691   .58828932           0   .52611387   1.0444691
{txt}sic383-mat~s {res}  1.1016408   .45282603   .00637845   .37565568   1.0986636
{txt}sic383-ded~s {res}  1.0861218   .47481245           0   .40500164   1.0828234

{txt}                 si_mean  N_drop_prc           i        bigE     si_mean
  sic311-mse {res}  .71867058   .00194269   .65403795   1.0586888   .71896637
{txt}sic311-mat~s {res}  .63766462   .07290461   .56892449   1.0746039     .638369
{txt}sic311-ded~s {res}  .67515223           0   .62467831   1.0493554   .67574991
{txt}  sic321-mse {res}  .55857622   .00910046   .51831883   1.0557046   .55944418
{txt}sic321-mat~s {res}  .45993365   .06381487   .39603266   1.0972804   .46097666
{txt}sic321-ded~s {res}  .49773443           0   .44861594   1.0636724   .49857195
{txt}  sic352-mse {res}  .62626717   .00089127   .57493085    1.043659   .62626717
{txt}sic352-mat~s {res}  .46881472   .01114579   .39162058   1.0919291    .4691886
{txt}sic352-ded~s {res}   .4858907           0   .41743538   1.0773647   .48627071
{txt}  sic313-mse {res}  .51095586           0   .43243435   1.0720789   .51095586
{txt}sic313-mat~s {res}  .35134083   .00088652     .284675   1.0926244   .35134083
{txt}sic313-ded~s {res}   .3860442           0   .32296461   1.0738684    .3860442
{txt}  sic383-mse {res}  .58828932           0   .52611387   1.0444691   .58828932
{txt}sic383-mat~s {res}  .45337627   .00851064   .37565568   1.0986636   .45355797
{txt}sic383-ded~s {res}  .47537002           0   .40500164   1.0828234   .47555797

{txt}              N_drop_prc
  sic311-mse {res}  .00275348
{txt}sic311-mat~s {res}  .07430084
{txt}sic311-ded~s {res}          0
{txt}  sic321-mse {res}  .01225061
{txt}sic321-mat~s {res}  .06533193
{txt}sic321-ded~s {res}          0
{txt}  sic352-mse {res}  .00089127
{txt}sic352-mat~s {res}  .01248885
{txt}sic352-ded~s {res}          0
{txt}  sic313-mse {res}          0
{txt}sic313-mat~s {res}  .00088652
{txt}sic313-ded~s {res}          0
{txt}  sic383-mse {res}          0
{txt}sic383-mat~s {res}  .00921986
{txt}sic383-ded~s {res}          0
{reset}
{com}. 
. // mat li grph_tbl
. 
. log close
      {txt}name:  {res}<unnamed>
       {txt}log:  {res}/Volumes/SSD Hans 1/Github/Tax_Evasion_Productivity/Code/Stata/005-loop-5-5-25.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res} 5 May 2025, 16:21:33
{txt}{.-}
{smcl}
{txt}{sf}{ul off}